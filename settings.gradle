// Based on `https://github.com/griffon/griffon/blob/ed86035/settings.gradle`
def includeModule = { String projectName, String directory = ""  ->
    File baseDir = new File((File) rootDir, "modules/" + directory)
    File moduleDir = new File(baseDir, projectName)

    assert moduleDir.isDirectory()

    include projectName
    project(":${projectName}").projectDir = moduleDir
}

def includeModelModule = { String projectName -> includeModule(projectName, "models") }
def includePipelineModule = { String projectName -> includeModule(projectName, "pipeline") }


rootProject.name = "schaapi"

includeModule "common"
includeModelModule "jimple-library-usage-graph"
includePipelineModule "java-maven-project-compiler"
includePipelineModule "jimple-evosuite-test-generator"
includePipelineModule "jimple-library-usage-graph-generator"
includePipelineModule "jimple-pattern-filter"
includePipelineModule "prefix-span-pattern-detector"
